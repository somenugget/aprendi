<% if @less_studied_study_sets.any? %>
  <div class="mb-8">
    <h2 class="text-2xl font-bold tracking-tight text-gray-900 dark:text-white mb-6">
      Your study sets progress
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <% @less_studied_study_sets.each do |study_set| %>
        <%= form_with url: tests_path, method: :post, class: 'block' do |form| %>
          <%= render(UI::CardComponent.new(as: @terms_for_less_studied_study_sets[study_set.id].any? ? :button : :div,
                                           type: :submit,
                                           title: 'Learn the next 5 words from this set',
                                           variant: :default,
                                           class: 'w-full cursor-pointer relative z-0 transition hover:shadow-md')) do %>
            <% if study_set.pinned %>
              <span class="absolute right-3 top-3 text-xs">
                <%= heroicon('star', variant: :solid, options: { class: 'text-yellow-500 !h-4 !w-4' }) %>
              </span>
            <% end %>

            <%= render UI::CardHeader.new(
              header: study_set.name,
              right_header: number_to_percentage(study_set.progress, precision: 0),
              options: { wrapper_class: 'mb-0', header_class: 'font-semibold text-gray-900 dark:text-white' }
            ) %>
            <% @terms_for_less_studied_study_sets[study_set.id].each do |term| %>
              <%= form.hidden_field 'terms_ids[]', value: term.id %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
