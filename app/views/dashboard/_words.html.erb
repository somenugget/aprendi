<div class="mb-8">
  <h2 class="text-2xl font-bold tracking-tight text-gray-900 dark:text-white mb-6">
    Your words for today
  </h2>

  <% if @new_terms_to_learn.any? || @ripe_terms_to_learn.any? || @ripening_terms.any? %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% if @new_terms_to_learn.any? %>
        <%= form_with url: tests_path, method: :post, class: 'flex items-stretch' do |form| %>
          <%= render(UI::CardComponent.new(as: :button,
                                           type: :submit,
                                           variant: :default,
                                           class: 'text-left flex flex-col w-full transition hover:shadow-md',
                                           title: 'Learn new words')) do %>
            <%= render UI::CardHeader.new(
              header: 'New words to learn',
              right_header: "#{@new_terms_to_learn_count} total",
              options: { header_class: 'font-semibold text-gray-900 dark:text-white' }
            ) %>
            <div class="flex flex-col gap-2 mt-2">
              <% @new_terms_to_learn.each do |term| %>
                <%= form.hidden_field 'terms_ids[]', value: term.id %>
                <%= render(TermProgress::DashboardRowComponent.new(
                  term: term.term,
                  definition: term.definition,
                  success_percentage: term.success_percentage,
                  tests_count: term.tests_count
                )) %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      <% end %>

      <% if @ripe_terms_to_learn.any? %>
        <%= form_with url: tests_path, method: :post, class: 'flex items-stretch' do |form| %>
          <%= render(UI::CardComponent.new(as: :button,
                                           type: :submit,
                                           variant: :default,
                                           class: 'text-left flex flex-col w-full transition hover:shadow-md',
                                           title: 'Review the words')) do %>
            <%= render UI::CardHeader.new(
              header: 'Ready for review',
              right_header: "#{@ripe_terms_to_learn_count} total",
              options: { header_class: 'font-semibold text-gray-900 dark:text-white' }
            ) %>
            <div class="flex flex-col gap-2 mt-2">
              <% @ripe_terms_to_learn.each do |term| %>
                <%= form.hidden_field 'terms_ids[]', value: term.id %>
                <%= render(TermProgress::DashboardRowComponent.new(
                  term: term.term,
                  definition: term.definition,
                  success_percentage: term.success_percentage,
                  tests_count: term.tests_count
                )) %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      <% end %>

      <% if @ripening_terms.any? %>
        <%= form_with url: tests_path, method: :post, class: 'flex items-stretch' do |form| %>
          <%= render(UI::CardComponent.new(as: :button,
                                           type: :submit,
                                           variant: :default,
                                           class: 'text-left flex flex-col w-full transition hover:shadow-md',
                                           title: 'Review ripening words')) do %>
            <%= render UI::CardHeader.new(
              header: 'Ripening',
              right_header: "#{@ripening_terms_count} total",
              options: { header_class: 'font-semibold text-gray-900 dark:text-white' }
            ) %>
            <div class="flex flex-col gap-2 mt-2">
              <% @ripening_terms.each do |term| %>
                <%= form.hidden_field 'terms_ids[]', value: term.id %>
                <%= render(TermProgress::DashboardRowComponent.new(
                  term: term.term,
                  definition: term.definition,
                  success_percentage: term.success_percentage,
                  tests_count: term.tests_count
                )) %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-6">
      <p class="text-lg text-gray-900 dark:text-white mb-2">
        You've learnt everything you had to learn today üéâ Good job üí™üèª
      </p>
      <p class="text-gray-600 dark:text-gray-300">
        Come back tomorrow or add some new words to learn.
      </p>
    </div>
  <% end %>
</div>
